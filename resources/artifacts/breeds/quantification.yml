name: quantification
kind: breeds
deployable:
  definition: magneticio/vamp-ee-workflows:1.0.4-quantification
ports:
  webport: 8080/http
environment_variables:
  VAMP_URL                            : ${config://vamp.workflow-driver.workflow.vamp-url}
  VAMP_API_TOKEN                      : ${vamp://token}
  VAMP_NAMESPACE                      : ${config://vamp.namespace}
  VAMP_WORKFLOW_EXECUTION_TIMEOUT     : ${config://vamp.workflow-driver.workflow.vamp-workflow-execution-timeout}
  VAMP_KEY_VALUE_STORE_CONNECTION     : ${config://vamp.workflow-driver.workflow.vamp-key-value-store-connection}
  VAMP_KEY_VALUE_STORE_TOKEN          : ${config://vamp.workflow-driver.workflow.vamp-key-value-store-token}
  VAMP_KEY_VALUE_STORE_PATH           : ${config://vamp.workflow-driver.workflow.vamp-key-value-store-path}
  VAMP_WORKFLOW_EXECUTION_PERIOD      : ${config://vamp.workflow-driver.workflow.vamp-workflow-execution-period}
  VAMP_KEY_VALUE_STORE_TYPE           : ${config://vamp.workflow-driver.workflow.vamp-key-value-store-type}
  VAMP_PULSE_ELASTICSEARCH_URL        : ${config://vamp.pulse.elasticsearch.url}
  VAMP_NATS_URL                       : ${config://vamp.pulse.nats.url}
  VAMP_NATS_CLIENT_ID                 : ${config://vamp.pulse.nats.client-id}
  VAMP_NATS_CLUSTER_ID                : ${config://vamp.pulse.nats.cluster-id}
  VAMP_NATS_USERNAME                  : ${config://vamp.pulse.nats.username}
  VAMP_NATS_PASSWORD                  : ${config://vamp.pulse.nats.password}
  VAMP_NATS_TOKEN                     : ${config://vamp.pulse.nats.token}
  VAMP_NATS_TLS_CA_CERT               : ${config://vamp.pulse.nats.ca-cert}
  VAMP_NATS_TLS_CLIENT_CERT           : ${config://vamp.pulse.nats.client-cert}
  VAMP_NATS_TLS_CLIENT_KEY            : ${config://vamp.pulse.nats.client-key}  
  VAMP_HEALTH                         : true
  VAMP_ELASTICSEARCH_HEALTH_INDEX     : ${es://health}
  VAMP_HEALTH_TIME_WINDOW             : 500
  VAMP_METRICS                        : true
  VAMP_ELASTICSEARCH_METRICS_INDEX    : ${es://metrics}
  VAMP_ELASTICSEARCH_METRICS_V2_INDEX : ${es://metricsv2}
  VAMP_METRICS_TIME_WINDOW            : 500
  VAMP_CAPACITY                       : true
  VAMP_ELASTICSEARCH_CAPACITY_INDEX   : ${es://capacity}
  VAMP_ALLOCATION                     : true
  VAMP_ELASTICSEARCH_ALLOCATION_INDEX : ${es://allocation}
  VAMP_GATEWAY_DRIVER_ELASTICSEARCH_METRICS_TYPE : log
  VAMP_GATEWAY_DRIVER_ELASTICSEARCH_METRICS_INDEX: vamp-vga-${config://vamp.namespace}-*
